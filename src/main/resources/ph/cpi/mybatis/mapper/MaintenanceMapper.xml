<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ph.cpi.mybatis.mapper.MaintenanceMapper">
	
	<resultMap type="java.util.Map" id="sampleMap">
		<result property="insuredName" column="insured_name"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.AlopSample" id="alopMap">
	    <result property="alopId" 			column="ALOP_ID"/> 
		<result property="insuredId" 		column="INS_ID"/> 
		<result property="insuredName" 		column="INSURED_NAME"/> 
		<result property="insuredDesc" 		column="INSURED_DESC"/> 
		<result property="address" 			column="ADDRESS"/> 
		<result property="insuredBusiness" 	column="INS_BUSINESS"/> 
		<result property="annSi" 			column="ANN_SI"/> 
		<result property="maxIndemPdSi" 	column="MAX_INDEM_PD_SI"/> 
		<result property="issueDate" 		column="ISSUE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/> 
		<result property="expiryDate" 		column="EXPIRY_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/> 
		<result property="maxIndemPd" 		column="MAX_INDEM_PD"/> 
		<result property="indemFromDate" 	column="INDEM_FROM_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/> 
		<result property="timeExc" 			column="TIME_EXC"/> 
		<result property="repInterval" 		column="REP_INTERVAL"/> 
		<result property="createUser" 		column="CREATE_USER"/> 
		<result property="createDate" 		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/> 
		<result property="updateUser" 		column="UPDATE_USER"/> 
		<result property="updateDate" 		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Risk" id="retrieveMtnRiskMap">
		<result property="riskId"			column="RISK_ID"/>
		<result property="riskAbbr"			column="RISK_ABBR"/>
		<result property="riskName"			column="RISK_NAME"/>
		<result property="regionCd"			column="REGION_CD"/>	
		<result property="regionDesc"		column="REGION_DESC"/>
		<result property="provinceCd"		column="PROVINCE_CD"/>	
		<result property="provinceDesc"		column="PROVINCE_DESC"/>
		<result property="cityCd"			column="CITY_CD"/>
		<result property="cityDesc"			column="CITY_DESC"/>
		<result property="districtCd"		column="DISTRICT_CD"/>	
		<result property="districtDesc"		column="DISTRICT_DESC"/>
		<result property="blockCd"			column="BLOCK_CD"/>
		<result property="blockDesc"		column="BLOCK_DESC"/>
		<result property="latitude"			column="LATITUDE"/>
		<result property="longitude"		column="LONGITUDE"/>
		<result property="zoneCd"			column="ZONE_CD"/>
		<result property="zoneDesc"			column="ZONE_DESC"/>
		<result property="activeTag"		column="ACTIVE_TAG"/>
		<result property="remarks"			column="REMARKS"/>
		<result property="createUser"		column="CREATE_USER"/>
		<result property="createDate"		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"		column="UPDATE_USER"/>
		<result property="updateDate"		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.SectionCovers" id="retrieveMtnSectionCoversMap">
		<result property="lineCd" 			column="LINE_CD"/>
		<result property="lineDesc" 		column="LINE_DESCRIPTION"/>
		<result property="coverCd" 			column="COVER_CD"/>
		<result property="coverCdAbbr" 		column="COVER_CD_ABBR"/>
		<result property="coverName" 		column="COVERS_DESCRIPTION"/>
		<result property="activeTag" 		column="ACTIVE_TAG"/>
		<result property="section" 			column="SECTION"/>
		<result property="sortSeq" 			column="SORT_SEQ"/>
		<result property="defaultTag" 		column="DEFAULT_TAG"/>
		<result property="bulletNo" 		column="BULLET_NO"/>
		<result property="addSi" 			column="ADD_SI"/>
		<result property="remarks" 			column="REMARKS"/>
		<result property="createUser" 		column="CREATE_USER"/>
		<result property="createDate" 		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" 		column="UPDATE_USER"/>
		<result property="updateDate" 		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="okDelete" 	    column="OK_DELETE"/>
		<association property="deductibles" resultMap="endt_ded"></association>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Cession" id="retrieveTypeOfCessionMap">
		<result property="cessionId" 		column="CESSION_ID"/>
		<result property="cessionAbbr" 		column="CESSION_ABBR"/>
		<result property="description" 		column="DESCRIPTION"/>
		<result property="activeTag" 		column="ACTIVE_TAG"/>
		<result property="remarks" 			column="REMARKS"/>
		<result property="createUser" 		column="CREATE_USER"/>
		<result property="createDate" 		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" 		column="UPDATE_USER"/>
		<result property="updateDate" 		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
	</resultMap>
		
	<resultMap type="ph.cpi.rest.api.model.maintenance.Region" id="regionMap">
		<result property = "regionCd"       column  =  "REGION_CD"/>
		<result property = "regionDesc"     column  =  "REGION_DESC"/>
		<result property = "activeTag"     	column  =  "ACTIVE_TAG"/> 
		<result property = "remarks"        column  =  "REMARKS"/>
		<result property = "createUser"     column  =  "CREATE_USER"/>
		<result property = "createDate"     column  =  "CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property = "updateUser"     column  =  "UPDATE_USER"/>
		<result property = "updateDate"     column  =  "UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<association property="provinceList"	resultMap="provinceMap"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Province" id="provinceMap">
		<result property = "provinceCd"        column   ="PROVINCE_CD"/>
		<result property = "provinceDesc"      column   ="PROVINCE_DESC"/>
		<result property = "activeTag"         column   ="ACTIVE_TAG"/>
		<result property = "remarks"           column   ="REMARKS"/>
		<result property = "createUser"        column   ="CREATE_USER"/>
		<result property = "createDate"        column   ="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property = "updateUser"        column   ="UPDATE_USER"/>
		<result property = "updateDate"        column   ="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<association property="cityList"	   resultMap="cityMap"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Region" id="regionForProvinceMap">
		<result property = "regionCd"       column  =  "REGION_CD"/>
		<result property = "regionDesc"     column  =  "REGION_DESC"/>
		<association property="provinceList"	resultMap="provinceMap"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Object_" id="objectMap">
		<result property = "lineCd"         column  =   "LINE_CD"/>
		<result property = "lineDesc"       column  =   "LINE_DESC"/>
		<result property = "objectId"       column  =   "OBJECT_ID"/>
		<result property = "description"    column  =   "OBJECT_DESC"/>
		<result property = "activeTag"      column  =   "ACTIVE_TAG"/>
		<result property = "remarks"        column  =   "REMARKS"/>
		<result property = "createUser"     column  =   "CREATE_USER"/>
		<result property = "createDate"     column  =   "CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property = "updateUser"     column  =   "UPDATE_USER"/>
		<result property = "updateDate"     column  =   "UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<association property="catPerilList"	resultMap="catPerilMapObj"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.CATPeril" id="catPerilMapObj">
		<result property="catPerilId"			column="C_CAT_PERIL_ID"/>
		<result property="catPerilAbbr"			column="C_CAT_PERIL_ABBR"/>
		<result property="catPerilName"			column="C_CAT_PERIL_NAME"/>
		<result property="pctSharePrem"			column="C_PCT_SHARE_PREM"/>
		<result property="createUser"			column="C_CREATE_USER"/>
		<result property="createDate"        	column="C_CREATE_DATE"        	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"        	column="C_UPDATE_USER"/>
		<result property="updateDate"			column="C_UPDATE_DATE"			typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
     </resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.QuoteWordings" id="quoteWordingsMap">
		 <result property   ="lineCd"      column  =   "LINE_CD"/>   
		 <result property   ="lineDesc"    column  =   "DESCRIPTION"/> 
		 <result property   ="wordingId"   column  =   "WORDING_ID"/>    
		 <result property   ="wording"     column  =   "WORDING"/>  
		 <result property   ="wordType"    column  =   "WORD_TYPE"/> 
		 <result property   ="activeTag"   column  =   "ACTIVE_TAG"/>    
		 <result property   ="defaultTag"  column  =   "DEFAULT_TAG"/>
		 <result property   ="ocTag"  	   column  =   "OC_TAG"/>   
		 <result property   ="remarks"     column  =   "REMARKS"/>  
		 <result property   ="createUser"  column  =   "CREATE_USER"/>   
		 <result property   ="createDate"  column  =   "CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>   
		 <result property   ="updateUser"  column  =   "UPDATE_USER"/>   
		 <result property   ="updateDate"  column  =   "UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>  
	</resultMap>

	<resultMap type="ph.cpi.rest.api.model.maintenance.Intermediary" id="mntIntMap">
		 <result property="intmId" 			column="INTM_ID"/> 
		<result property="intmName" 		column="INTM_NAME"/> 
		<result property="firstName" 		column="FIRST_NAME"/> 
		<result property="middleInitial" 	column="MIDDLE_INITIAL"/> 
		<result property="lastName" 		column="LAST_NAME"/> 
		<result property="addrLine1" 		column="ADDR_LINE1"/> 
		<result property="addrLine2" 		column="ADDR_LINE2"/> 
		<result property="addrLine3" 		column="ADDR_LINE3"/> 
		<result property="zipCd" 			column="ZIP_CD"/> 
		<result property="address" 			column="ADDRESS"/> 
		<result property="contactNo" 		column="CONTACT_NO"/> 
		<result property="emailAdd" 		column="EMAIL_ADD"/> 
		<result property="activeTag" 		column="ACTIVE_TAG"/> 
		<result property="corpTag" 			column="CORP_TAG"/>
		<result property="corpTagDesc" 		column="CORP_TAG_DESC"/>
		<result property="vatTag" 			column="VAT_TAG"/>
		<result property="vatTagDesc" 		column="VAT_TAG_DESC"/> 
		<result property="oldIntmId" 		column="OLD_INTM_ID"/> 
		<result property="remarks" 			column="REMARKS"/> 
		<result property="createUser" 		column="CREATE_USER"/> 
		<result property="createDate" 		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/> 
		<result property="updateUser" 		column="UPDATE_USER"/> 
		<result property="updateDate" 		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Line" id="mntLineMap">
		<result property="lineCd" 			column="LINE_CD"/> 
		<result property="description" 		column="DESCRIPTION"/>
		<result property="cutOffTime" 		column="CUT_OFF_TIME"/>
		<result property="activeTag" 		column="ACTIVE_TAG"/> 
		<result property="catTag" 			column="CAT_TAG"/> 
		<result property="renewalTag" 		column="RENEWAL_TAG"/> 
		<result property="openCoverTag" 	column="OPEN_COVER_TAG"/>
		<result property="alopTag" 			column="ALOP_TAG"/>
		<result property="referenceNo"		column="REFERENCE_NO"/> 
		<result property="sortSeq" 			column="SORT_SEQ"/> 
		<result property="remarks" 			column="REMARKS"/> 
		<result property="createUser" 		column="CREATE_USER"/> 
		<result property="createDate" 		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/> 
		<result property="updateUser" 		column="UPDATE_USER"/> 
		<result property="updateDate" 		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.LineClass" id="mntLineClassMap">
		<result property="lineCd" 			column="LINE_CD"/> 
		<result property="lineCdDesc" 		column="DESCRIPTION"/> 
		<result property="lineClassCd" 		column="LINE_CLASS_CD"/> 
		<result property="lineClassCdDesc" 	column="DESCRIPTION"/> 
		<result property="activeTag" 		column="ACTIVE_TAG"/> 
		<result property="remarks" 			column="REMARKS"/> 
		<result property="createUser" 		column="CREATE_USER"/> 
		<result property="createDate" 		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/> 
		<result property="updateUser" 		column="UPDATE_USER"/> 
		<result property="updateDate" 		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="okDelete"         column="OK_DELETE"/>
	</resultMap>
	
	<select id="retrieveMntIntermediary" resultMap="mntIntMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_INTM_PKG.ret_mtn_intm(
								#{intmId,jdbcType=INTEGER},
								#{intmName,jdbcType=VARCHAR},
								#{activeTag,jdbcType=VARCHAR},
								#{corpTag,jdbcType=VARCHAR},
								#{vatTag,jdbcType=VARCHAR},
								#{address,jdbcType=VARCHAR},
								#{contactNo,jdbcType=VARCHAR},
								#{oldIntmId,jdbcType=VARCHAR},
								 '', '', '', ''))
	</select>
	
	<select id="retrieveMntLine" resultMap="mntLineMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_LINE_PKG.ret_mtn_line(#{lineCd,jdbcType=VARCHAR}, '', '', '',''))
	</select>
	
	<select id="retrieveMntLineClass" resultMap="mntLineClassMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_LINE_CLASS_PKG.ret_mtn_line_class(#{lineCd},#{lineClassCd, jdbcType=VARCHAR},'', '', '',''))
	</select>
	
	<select id="retrieveMaintenanceSample" resultMap="alopMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(ETS_QUOTE_PKG.retrieve_quote_alop(#{quoteId},#{quotationNo}))
	</select>
	
	<select id="retrieveMtnRisk" resultMap="retrieveMtnRiskMap" parameterType="java.util.Map">
		<!-- SELECT * FROM ETS_MAINTENANCE_PKG_MBM.retrieve_mtn_risk(#{riskId},#{position},#{count},#{sortKey},#{order}) -->
		SELECT * FROM TABLE(MTN_RISK_PKG.ret_mtn_risk(#{riskId, jdbcType=INTEGER},
													  null,
													  null,
													  null,
													  null))
	</select>
	
	<select id="retrieveMtnRiskListing" resultMap="retrieveMtnRiskMap" parameterType="java.util.Map">
		SELECT * FROM TABLE(MTN_RISK_PKG.ret_mtn_risk_listing(#{riskId, jdbcType=INTEGER},
															  #{riskAbbr, jdbcType=VARCHAR},
															  #{riskName, jdbcType=VARCHAR},
															  #{regionDesc, jdbcType=VARCHAR},
															  #{provinceDesc, jdbcType=VARCHAR},
															  #{cityDesc, jdbcType=VARCHAR},
															  #{districtDesc, jdbcType=VARCHAR},
															  #{blockDesc, jdbcType=VARCHAR},
															  #{latitude, jdbcType=VARCHAR},
															  #{longitude, jdbcType=VARCHAR},
															  #{activeTag, jdbcType=VARCHAR},
															  null,
															  null,
															  null,
															  null
															  ))
	</select>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Insured" id="insuredMap">
		<result property="insuredId" 	column="INSURED_ID"/>
		<result property="insuredName" 	column="INSURED_NAME"/>
		<result property="insuredAbbr" 	column="INSURED_ABBR"/>
		<result property="insuredType" 	column="INSURED_TYPE"/>
		<result property="insuredTypeDesc" 	column="INSURED_TYPE_DESC"/>
		<result property="firstName" 	column="FIRST_NAME"/>
		<result property="middleInitial" 	column="MIDDLE_INITIAL"/>
		<result property="lastName" 	column="LAST_NAME"/>
		<result property="addrLine1" 	column="ADDR_LINE1"/>
		<result property="addrLine2" 	column="ADDR_LINE2"/>
		<result property="addrLine3" 	column="ADDR_LINE3"/>
		<result property="zipCd" 	column="ZIP_CD"/>
		<result property="address" 	column="ADDRESS"/>
		<result property="contactNo" 	column="CONTACT_NO"/>
		<result property="emailAdd" 	column="EMAIL_ADD"/>
		<result property="activeTag" 	column="ACTIVE_TAG"/>
		<result property="corpTag" 	column="CORP_TAG"/>
		<result property="corpTagDesc" 	column="CORP_TAG_DESC"/>
		<result property="vatTag" 	column="VAT_TAG"/>
		<result property="vatTagDesc" 	column="VAT_TAG_DESC"/>
		<result property="oldInsId" 	column="OLD_INS_ID"/>
		<result property="remarks" 	column="REMARKS"/>
		<result property="createUser" 	column="CREATE_USER"/>
		<result property="createDate" 	column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/> 
		<result property="updateUser" 	column="UPDATE_USER"/>
		<result property="updateDate" 	column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/> 
	</resultMap>
	
	<select id="retrieveMtnInsured" resultMap="insuredMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_INSURED_PKG.ret_mtn_insured(
					#{insuredId,jdbcType=INTEGER},
					#{insuredName,jdbcType=VARCHAR},
					#{insuredAbbr,jdbcType=VARCHAR},
					#{activeTag,jdbcType=VARCHAR},
					#{insuredType,jdbcType=VARCHAR},
					#{corpTag,jdbcType=VARCHAR},
					#{vatTag,jdbcType=VARCHAR},
					#{address,jdbcType=VARCHAR},
					'',1,'',''))
	</select>
	
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.EndtCode" id="endtCode">
		<result property="lineCd" column="LINE_CD"/>
		<result property="lineDesc" column="LINE_DESCRIPTION"/>
		<result property="endtCd" column="ENDT_CD"/>
		<result property="endtTitle" column="ENDT_TITLE"/>
		<result property="description" column="ENDT_DESCRIPTION"/>
		<result property="defaultTag" column="DEFAULT_TAG"/>
		<result property="activeTag" column="ACTIVE_TAG"/>
		<result property="endtText01" column="ENDT_TEXT01"/>
		<result property="endtText02" column="ENDT_TEXT02"/>
		<result property="endtText03" column="ENDT_TEXT03"/>
		<result property="endtText04" column="ENDT_TEXT04"/>
		<result property="endtText05" column="ENDT_TEXT05"/>
		<result property="endtText06" column="ENDT_TEXT06"/>
		<result property="endtText07" column="ENDT_TEXT07"/>
		<result property="endtText08" column="ENDT_TEXT08"/>
		<result property="endtText09" column="ENDT_TEXT09"/>
		<result property="endtText10" column="ENDT_TEXT10"/>
		<result property="endtText11" column="ENDT_TEXT11"/>
		<result property="endtText12" column="ENDT_TEXT12"/>
		<result property="endtText13" column="ENDT_TEXT13"/>
		<result property="endtText14" column="ENDT_TEXT14"/>
		<result property="endtText15" column="ENDT_TEXT15"/>
		<result property="endtText16" column="ENDT_TEXT16"/>
		<result property="endtText17" column="ENDT_TEXT17"/>
		<result property="remarks" 	column="REMARKS"/>
		<result property="createUser" column="CREATE_USER"/>
		<result property="createDate" column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" column="UPDATE_USER"/>
		<result property="updateDate" column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="okDelete" 	column="OK_DELETE"/>
		<association property="deductibles" resultMap="endt_ded"></association>
	</resultMap>
	
	<select id="retrieveEndtCode" resultMap="endtCode" parameterType="java.util.Map">
		SELECT * FROM TABLE(MTN_ENDT_PKG.ret_endt_code(#{lineCd, jdbcType=VARCHAR},#{endtCd , jdbcType=VARCHAR},'',1,'',''))
	</select>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.District" id="district">
		<result property="districtCd" column="DISTRICT_CD" />
		<result property="districtDesc" column="DISTRICT_DESC" />
		<result property="activeTag" column="ACTIVE_TAG" />
		<result property="remarks" column="REMARKS" />
		<result property="createUser" column="CREATE_USER" />
		<result property="createDate" column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" column="UPDATE_USER" />
		<result property="updateDate" column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="okDelete" column="DIS_OK_DELETE"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.City" id="city">
		<result property="cityCd" column="CITY_CD" />
		<result property="cityDesc" column="CITY_DESC" />
		<result property="zoneCd" column="ZONE_CD" />
		<result property="zoneDesc" column="ZONE_DESC" />
		<association property="districtList" resultMap="district"></association>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Province" id="province">
		<result property="provinceCd" column="PROVINCE_CD" />
		<result property="provinceDesc" column="PROVINCE_DESC" />
		<association property="cityList" resultMap="city"></association>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Region" id="region">
		<result property="regionCd" column="REGION_CD" />
		<result property="regionDesc" column="REGION_DESC" />
		<association property="provinceList" resultMap="province"></association>
	</resultMap>
	
	<select id="retrieveMtnDistrict" resultMap="region" parameterType="java.util.Map">
		SELECT * FROM TABLE(MTN_DISTRICT_PKG.ret_mtn_district(#{regionCd, jdbcType=VARCHAR},#{provinceCd, jdbcType=VARCHAR},#{cityCd, jdbcType=VARCHAR},#{districtCd, jdbcType=VARCHAR},'',1,'',''))
	</select>
	
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Deductibles" id="deductibles">
		<result property="lineCd" 				column="LINE_CD"/>
		<result property="lineDesc" 			column="DESCRIPTION"/>
		<result property="coverCd"	 			column="COVER_CD"/>
		<result property="endtCd" 				column="ENDT_CD"/>
		<result property="deductibleCd" 		column="DEDUCTIBLE_CD"/>
		<result property="deductibleTitle" 		column="DEDUCTIBLE_TITLE"/>
		<result property="deductibleType" 		column="DEDUCTIBLE_TYPE"/>
		<result property="typeDesc" 			column="TYPE_DESC"/>
		<result property="deductibleRate" 		column="DEDUCTIBLE_RATE"/>
		<result property="deductibleAmt" 		column="DEDUCTIBLE_AMT"/>
		<result property="minAmt" 				column="MIN_AMT"/>
		<result property="maxAmt" 				column="MAX_AMT"/>
		<result property="deductibleText" 		column="DEDUCTIBLE_TEXT"/>
		<result property="activeTag" 			column="ACTIVE_TAG"/>
		<result property="defaultTag" 			column="DEFAULT_TAG"/>
		<result property="remarks" 				column="REMARKS"/>
		<result property="createUser" 			column="CREATE_USER"/>
		<result property="createDate" 			column="CREATE_DATE"  typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" 			column="UPDATE_USER"/>
		<result property="updateDate" 			column="UPDATE_DATE"  typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
	</resultMap>
	
	<select id="retrieveMtnDeductibles" resultMap="deductibles" parameterType="java.util.Map">
		SELECT * FROM TABLE(MTN_DEDUCTIBLES_PKG.ret_mtn_deductibles(
										#{lineCd, jdbcType=VARCHAR},
										#{coverCd, jdbcType=VARCHAR},
										#{endtCd, jdbcType=VARCHAR},
										#{deductibleCd, jdbcType=VARCHAR},
										#{activeTag, jdbcType=VARCHAR},
										#{defaultTag, jdbcType=VARCHAR},
										'',
										1,
										'',
										''))
	</select>
	
	<select id="retrieveMtnSectionCovers" resultMap="retrieveMtnSectionCoversMap" parameterType="java.util.Map">
		SELECT * FROM TABLE(MTN_SEC_COVER_PKG.ret_mtn_sec_cover(#{lineCd, jdbcType=VARCHAR},
																#{coverCd, jdbcType=VARCHAR},
																null,
																null,
																null,
																null
																))
	</select>
	
	<select id="retrieveMtnTypeOfCession" resultMap="retrieveTypeOfCessionMap" parameterType="java.util.Map">
		SELECT * FROM TABLE(MTN_CESSION_PKG.ret_mtn_cession(#{cessionId},null,null,null,null))
	</select>

	<select id="retrieveMtnRegion" resultMap="regionMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_REGION_PKG.ret_mtn_region(#{regionCd, jdbcType=VARCHAR},null,null,null,null))
	</select>
	
	<select id="retrieveMtnProvince" resultMap="regionForProvinceMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_PROVINCE_PKG.ret_mtn_prvnce(#{regionCd, jdbcType=VARCHAR},#{provinceCd, jdbcType=VARCHAR},null,null,null,null))
	</select>
	
	<select id="retrieveMtnObject" resultMap="objectMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_OBJECT_PKG.ret_mtn_obj(#{lineCd},'',null,null,null,null))
	</select>
	
	<select id="retrieveMtnQuoteWordings" resultMap="quoteWordingsMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_QUOTE_WORDINGS_PKG.ret_mtn_qu_wordings(#{lineCd, jdbcType=VARCHAR},#{wordType, jdbcType=VARCHAR},null,null,null,null))
	</select>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.City" id="cityMap">
		<result property="cityCd"			column="CITY_CD"/>
		<result property="cityDesc"			column="CITY_DESC"/>
		<result property="activeTag"		column="ACTIVE_TAG"/>
		<result property="remarks"			column="REMARKS"/>
		<result property="zoneCd"			column="ZONE_CD"/>
		<result property="zoneDesc"			column="ZONE_DESC"/>
		<result property="createUser"		column="CREATE_USER"/>
		<result property="createDate"		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="updateUser"		column="UPDATE_USER"/>
		<result property="updateDate"		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
	</resultMap>
	
	<select id="retrieveMtnCity" resultMap="regionMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_CITY_PKG.ret_mtn_city(#{regionCd, jdbcType=VARCHAR}, 
																		#{provinceCd, jdbcType=VARCHAR}, 
																		#{cityCd, jdbcType=VARCHAR},
																		#{position, jdbcType=VARCHAR}, 
																		#{count, jdbcType=VARCHAR}, 
																		#{sortKey, jdbcType=VARCHAR}, 
																		#{order, jdbcType=VARCHAR}))
	</select>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.CrestaZone" id="crestaZoneMap">
		<result property="zoneCd" 			column="ZONE_CD" />
		<result property="zoneDesc"			column="ZONE_DESC" />
		<result property="activeTag" 		column="ACTIVE_TAG" />
		<result property="remarks"			column="REMARKS" />
		<result property="createUser"		column="CREATE_USER" />
		<result property="createDate"		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"		column="UPDATE_USER" />
		<result property="updateDate"		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="okDelete" 		column="OK_DELETE"/>
	</resultMap>
	
	<select id="retrieveMtnCrestaZone" resultMap="crestaZoneMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_CRESTA_PKG.ret_mtn_cresta(#{zoneCd, jdbcType=VARCHAR}, 
																			   #{position, jdbcType=VARCHAR}, 
																			   #{count, jdbcType=VARCHAR}, 
																			   #{sortKey, jdbcType=VARCHAR}, 
																			   #{order, jdbcType=VARCHAR}))
	</select>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.Currency" id="currencyMap">
		<result property="currencyCd"		column="CURRENCY_CD" />
		<!-- <result property="currencyAbbr"		column="CURRENCY_ABBR" /> -->
		<result property="currencyWord"		column="CURRENCY_WORD" />
		<result property="currencyRt"		column="CURRENCY_RT" />
		<result property="currencyDesc"		column="CURRENCY_DESC" />
		<result property="createUser"		column="CREATE_USER" />
		<result property="createDate"		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"		column="UPDATE_USER" />
		<result property="updateDate"		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
	</resultMap>
	
	<select id="retrieveMtnCurrency" resultMap="currencyMap" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_CURR_PKG.ret_mtn_curr(#{currencyCd, jdbcType=VARCHAR},
																			#{activeTag, jdbcType=VARCHAR},
																			#{position, jdbcType=VARCHAR}, 
																			#{count, jdbcType=VARCHAR}, 
																			#{sortKey, jdbcType=VARCHAR}, 
																			#{order, jdbcType=VARCHAR}))
	</select>

	<resultMap type="ph.cpi.rest.api.model.maintenance.AdviceWordings" id="adviceWordingsMap">
		<result property="adviceWordId" 	column="ADVICE_WORD_ID"/> 
		<result property="description" 		column="DESCRIPTION"/> 
		<result property="activeTag" 		column="ACTIVE_TAG"/> 
		<result property="wordings" 		column="WORDINGS"/>
		<result property="remarks" 			column="REMARKS"/> 
		<result property="createUser" 		column="CREATE_USER"/> 
		<result property="createDate" 		column="CREATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/> 
		<result property="updateUser" 		column="UPDATE_USER"/> 
		<result property="updateDate" 		column="UPDATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/> 
	</resultMap>
	
	<select id="retMtnAdviceWordings" resultMap="adviceWordingsMap" parameterType="java.util.Map">
            SELECT* FROM TABLE(MTN_ADV_WORD_PKG.ret_adv_wordings(#{adviceWordId, jdbcType=VARCHAR},NULL,NULL,NULL,NULL))
     </select>
     
     
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.Region" id="maintenanceRegionMap">
        <result property="regionCd" 		column="REGION_CD"/>
        <result property="regionDesc" 		column="REGION_DESC"/>
        <association property="provinceList" resultMap="maintenanceProvinceMap"></association>
	</resultMap>

     
     <resultMap type="ph.cpi.rest.api.model.maintenance.Province" id="maintenanceProvinceMap">
        <result property="provinceCd" 	column="PROVINCE_CD"/>
        <result property="provinceDesc" column="PROVINCE_DESC"/>
        <association property="cityList" resultMap="maintenanceCityMap"></association>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.City" id="maintenanceCityMap">
        <result property="cityCd" 	column="CITY_CD"/>
        <result property="cityDesc" column="CITY_DESC"/>
        <result property="zoneCd" column="ZONE_CD" />
		<result property="zoneDesc" column="ZONE_DESC" />
        <association property="districtList" resultMap="maintenanceDistrictMap"></association>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.District" id="maintenanceDistrictMap">
        <result property="districtCd" 	column="DISTRICT_CD"/>
        <result property="districtDesc" column="DISTRICT_DESC"/>
        <association property="blockList" resultMap="maintenanceBlockMap"></association>
	</resultMap>
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.Block" id="maintenanceBlockMap">
     	<result property="blockCd" 		column="BLOCK_CD"/> 
		<result property="blockDesc" 	column="BLOCK_DESC"/>
		<result property="activeTag" 	column="ACTIVE_TAG"/>   
		<result property="remarks" 		column="REMARKS"/>
		<result property="createUser" 	column="CREATE_USER"/>
		<result property="createDate" 	column="CREATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" 	column="UPDATE_USER"/>
		<result property="updateDate" 	column="UPDATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
     	<result property="okDelete"		column="OK_DELETE"/>
     </resultMap>
     
     <select id="retrieveMtnBlock" resultMap="maintenanceRegionMap" parameterType="java.util.Map">
            SELECT * FROM TABLE(MTN_BLOCK_PKG.ret_block(#{regionCd, jdbcType=VARCHAR},#{provinceCd, jdbcType=VARCHAR},#{cityCd, jdbcType=VARCHAR},#{districtCd, jdbcType=VARCHAR},#{blockCd, jdbcType=VARCHAR}, null, null ,null, null))
     </select>
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.Spoil" id="spoilMap">
     	<result property="spoilCd"			column="SPOIL_CD"/>
		<result property="description"		column="DESCRIPTION"/>
		<result property="activeTag"		column="ACTIVE_TAG"/>
		<result property="remarks"			column="REMARKS"/>
		<result property="createUser"		column="CREATE_USER"/>
		<result property="createDate"		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"		column="UPDATE_USER"/>
		<result property="updateDate"		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="okDelete"			column="OK_DELETE"/>
     </resultMap>
     
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.CedingCompany" id="maintenanceCedingCompanyListMap">
     	<result property="cedingId" 		column="CEDING_ID"/> 
		<result property="cedingName" 		column="CEDING_NAME"/>
		<result property="cedingAbbr" 		column="CEDING_ABBR"/>
		<result property="addrLine1" 		column="ADDR_LINE1"/>
		<result property="addrLine2" 		column="ADDR_LINE2"/>
		<result property="addrLine3" 		column="ADDR_LINE3"/>
		<result property="zipCd" 			column="ZIP_CD"/>
		<result property="address" 			column="ADDRESS"/>
		<result property="contactNo" 		column="CONTACT_NO"/>
		<result property="emailAdd" 		column="EMAIL_ADD"/>
		<result property="activeTag" 		column="ACTIVE_TAG"/>
		<result property="govtTag" 			column="GOVT_TAG"/>
		<result property="oldCedingId" 		column="OLD_CEDING_ID"/>
		<result property="membershipTag" 	column="MEMBERSHIP_TAG"/>
		<result property="membershipDate" 	column="MEMBERSHIP_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="terminationDate" 	column="TERMINATION_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="inactiveDate" 	column="INACTIVE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="remarks" 			column="REMARKS"/>
		<result property="createUser" 		column="CREATE_USER"/>
		<result property="createDate" 		column="CREATE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" 		column="UPDATE_USER"/>
		<result property="updateDate" 		column="UPDATE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
     </resultMap>
     
     <select id="retMtnCedingCompanyListing" resultMap="maintenanceCedingCompanyListMap" parameterType="java.util.Map">
            SELECT* FROM TABLE(MTN_CED_COM_PKG.ret_mtn_ced_com_list(#{cedingId, jdbcType=VARCHAR},#{cedingName, jdbcType=VARCHAR},#{cedingAbbr, jdbcType=VARCHAR},#{address, jdbcType=VARCHAR},#{membershipDate, jdbcType=VARCHAR},#{terminationDate, jdbcType=VARCHAR},#{inactiveDate, jdbcType=VARCHAR},#{activeTag, jdbcType=VARCHAR},#{govtTag, jdbcType=VARCHAR},#{membershipTag, jdbcType=VARCHAR}, null, null ,null, null))
     </select>
     
     
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.CedingCompany" id="maintenanceCedingCompanyMap">
     	<result property="cedingId" 		column="CEDING_ID"/> 
		<result property="cedingName" 		column="CEDING_NAME"/>
		<result property="cedingAbbr" 		column="CEDING_ABBR"/>
		<result property="addrLine1" 		column="ADDR_LINE1"/>
		<result property="addrLine2" 		column="ADDR_LINE2"/>
		<result property="addrLine3" 		column="ADDR_LINE3"/>
		<result property="zipCd" 			column="ZIP_CD"/>
		<result property="address" 			column="ADDRESS"/>
		<result property="contactNo" 		column="CONTACT_NO"/>
		<result property="emailAdd" 		column="EMAIL_ADD"/>
		<result property="bussTypeId" 		column="BUSS_TYPE_ID"/>
		<result property="tinNo" 			column="TIN_NO"/>
		<result property="activeTag" 		column="ACTIVE_TAG"/>
		<result property="govtTag"			column="GOVT_TAG"/>
		<result property="oldCedingId" 		column="OLD_CEDING_ID"/>
		<result property="membershipTag" 	column="MEMBERSHIP_TAG"/>
		<result property="membershipDate" 	column="MEMBERSHIP_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="terminationDate" 	column="TERMINATION_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="inactiveDate" 	column="INACTIVE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="remarks" 			column="REMARKS"/>
		<result property="createUser" 		column="CREATE_USER"/>
		<result property="createDate" 		column="CREATE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" 		column="UPDATE_USER"/>
		<result property="updateDate" 		column="UPDATE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
     	<association property="cedingRepresentative" resultMap="cedingRepresentativeMap"></association>
     </resultMap>
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.CedingRepresentative" id="cedingRepresentativeMap">
     	<result property="cedingId" 		column="CEDING_REP_CEDING_ID"/>
		<result property="cedingRepId" 		column="CEDING_REP_ID"/>
		<result property="designation" 		column="DESIGNATION"/>
		<result property="firstName" 		column="FIRST_NAME"/>
		<result property="middleInitial" 	column="MIDDLE_INITIAL"/>
		<result property="lastName" 		column="LAST_NAME"/>
		<result property="fullName" 		column="FULLNAME"/>
		<result property="defaultTag" 		column="DEFAULT_TAG"/>
		<result property="position" 		column="POSITION"/>
		<result property="department" 		column="DEPARTMENT"/>
		<result property="contactNo" 		column="CEDING_REP_CONTACT_NO"/>
		<result property="emailAdd" 		column="CEDING_REP_EMAIL_ADD"/>
		<result property="eSignature" 		column="E_SIGNATURE"/>
		<result property="createUser" 		column="CEDING_REP_CREATE_USER"/>
		<result property="createDate" 		column="CEDING_REP_CREATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" 		column="CEDING_REP_UPDATE_USER"/>
		<result property="updateDate" 		column="CEDING_REP_UPDATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
     </resultMap>
   
     
     <select id="retMtnCedingCompany" resultMap="maintenanceCedingCompanyMap" parameterType="java.util.Map">
            SELECT* FROM TABLE(MTN_CED_REP_PKG.ret_ced_com(#{cedingId, jdbcType=VARCHAR},null,null,null,null))
     </select>
  	
  	<update id="saveMtnRisk" parameterType="java.util.Map" statementType="CALLABLE">
  		BEGIN
  			MTN_RISK_PKG.save_mtn_risk(#{riskId, mode=INOUT, jdbcType=VARCHAR},
  									   #{riskAbbr},
  									   #{riskName},
  									   #{regionCd}, 
  									   #{provinceCd},
  									   #{cityCd},
  									   #{districtCd, jdbcType=VARCHAR},
  									   #{latitude, jdbcType=VARCHAR},
  									   #{longitude, jdbcType=VARCHAR},
  									   #{zoneCd, jdbcType=VARCHAR},
  									   #{activeTag},
  									   #{remarks, jdbcType=VARCHAR},
  									   #{createUser},
  									   CAST(to_timestamp(#{createDate, jdbcType=DATE}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
  									   #{updateUser},
  									   CAST(to_timestamp(#{updateDate, jdbcType=DATE}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
  									   #{blockCd, jdbcType=VARCHAR}
  				);
  		END;
  	</update>
  	
  	<select id="userLogin" resultType="java.lang.String" parameterType="java.util.Map">
    	SELECT DISTINCT(module_id) module_id FROM TABLE(MTN_USERS_PKG.user_login(#{userId}, #{password}))
    	ORDER BY module_id
    </select>
    
    <resultMap type="ph.cpi.rest.api.model.maintenance.Users" id="userMap">
     	<result property="userId"            	column="USER_ID"/>
		<result property="userGrp"           	column="USER_GRP"/>
		<result property="userName"          	column="USER_NAME"/>
		<result property="activeTag"         	column="ACTIVE_TAG"/>
		<result property="emailAddress"      	column="EMAIL_ADDRESS"/>
     </resultMap>
    
    <select id="userAuthenticate" resultMap="userMap" parameterType="java.util.Map">
    	SELECT * FROM TABLE(MTN_USERS_PKG.user_authenticate(#{userId}, #{password}))
    </select>
    
    <resultMap type="ph.cpi.rest.api.model.maintenance.Reason" id="ReasonMap">
		<result property="reasonCd" 		column="REASON_CD"/> 
		<result property="description" 		column="DESCRIPTION"/>
	</resultMap>
	
	<select id="retrieveMtnReason" resultMap="ReasonMap" parameterType="java.util.Map">
            SELECT * FROM TABLE(QU_GEN_INFO_PKG.ret_mtn_reason(#{reasonCd, jdbcType=VARCHAR},NULL,NULL,NULL,NULL))
     </select>

    <!-- <resultMap id="employeeResult" type="ph.cpi.rest.api.model.Employee">
    	<result property="empId" 			column="EMP_ID"/>
    	<result property="empDepartment" 		column="EMP_DEPARTMENT"/>
		<result property="empName" 		column="EMP_NAME"/>
	  	<collection property="addressList" javaType="ArrayList" column="{empId = EMP_ID, addressId = ADDRESS_ID}" ofType="addressResult" select="getEmployeeAddress"/>
	</resultMap>
	
	<resultMap id="addressResult" type="ph.cpi.rest.api.model.Address">
    	<result property="addressId" 		column="ADDRESS_ID"/>
    	<result property="empAddress" 		column="EMP_ADDRESS"/>
	</resultMap>
    
    <select id="getEmployeeX" resultMap="employeeResult">
	  SELECT a.* FROm tbl_employee a
	   where emp_id = #{empId}
	</select>
	
	<select id="EmployeeAddress" resultMap="addressResult">
	  SELECT a.* FROM tbl_address a
	  WHERE emp_id = #{empId}
	    AND address_id = #{addressId}
	</select> -->
    
    
	 
    <resultMap type="ph.cpi.rest.api.model.maintenance.Treaty" id="treatyMap">
    	<result property="treatyId" 		column="TREATY_ID"/>
    	<result property="treatyName" 		column="TREATY_NAME"/>
    	<result property="activeTag" 		column="ACTIVE_TAG"/>
    	<result property="comRate" 			column="COMMISSION_RATE"/>
    	<result property="treatyAbbr" 		column="TREATY_ABBR"/>
    	<result property="treatyType" 		column="TREATY_TYPE"/>
    </resultMap>
    
    <select id="retrieveMtnTreaty" resultMap="treatyMap">
    	SELECT * FROM TABLE(MTN_TREATY_PKG.ret_mtn_treaty(NULL,NULL,NULL,NULL))
    </select>
    
    <select id="retrieveMtnSectionCoversLov" resultMap="retrieveMtnSectionCoversMap" parameterType="java.util.Map">
		SELECT * FROM TABLE(MTN_SEC_COVER_PKG.ret_mtn_sec_cover_lov(#{lineCd, jdbcType=VARCHAR},
																    #{cover, jdbcType=VARCHAR},
																    null,
																    null,
																	null,
																	null
																	))
	</select>
    <resultMap type="ph.cpi.rest.api.model.RefCode" id="refCodeMap">
    	<result property="code" 			column="CODE"/>
    	<result property="identifier" 		column="IDENTIFIER"/>
    	<result property="description" 		column="DESCRIPTION"/>
    </resultMap>
    
    <select id="retrieveRefCode" resultMap="refCodeMap">
    	SELECT * FROM TABLE(REFCODE_PKG.ref_lov(#{identifier, jdbcType=VARCHAR}))
    </select>
    
     <resultMap type="ph.cpi.rest.api.model.maintenance.ReportsParam" id="reportsParamMap">
    	<result property="reportId" 		column="REPORT_ID"/>
    	<result property="title" 		    column="TITLE"/>
    	<result property="text" 		    column="TEXT"/>
    	<result property="lineCd" 			column="LINE_CD"/>
    	<result property="remarks" 		    column="REMARKS"/>
    	<result property="createUser"		column="CREATE_USER"/>
		<result property="createDate"       column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"       column="UPDATE_USER"/>
		<result property="updateDate"	    column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
    </resultMap>
    
    <select id="retrieveMtnReportsParam" resultMap="reportsParamMap" parameterType="java.util.Map">
    	SELECT* FROM TABLE(MTN_REP_PARAM_PKG.ret_mtn_rep_param(#{reportId, jdbcType=VARCHAR},null,null,null,null))
    </select>
    
    
     <resultMap type="ph.cpi.rest.api.model.maintenance.CATPeril" id="catPerilMap">
		<result property="lineCd"				column="LINE_CD"/>
		<result property="lineDesc"				column="DESCRIPTION"/>
		<result property="objectId"				column="OBJECT_ID"/> 
		<result property="catPerilId"			column="CAT_PERIL_ID"/>
		<result property="catPerilAbbr"			column="CAT_PERIL_ABBR"/>
		<result property="catPerilName"			column="CAT_PERIL_NAME"/>
		<result property="pctSharePrem"			column="PCT_SHARE_PREM"/>
		<result property="defaultTag"			column="DEFAULT_TAG"/>
		<result property="activeTag"			column="ACTIVE_TAG"/> 
		<result property="remarks"				column="REMARKS"/>
		<result property="createUser"			column="CREATE_USER"/>
		<result property="createDate"        	column="CREATE_DATE"        	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"        	column="UPDATE_USER"/>
		<result property="updateDate"			column="UPDATE_DATE"			typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
     </resultMap>
     
     <select id="retrieveMtnCATPeril" resultMap="catPerilMap" parameterType="java.util.Map">
    	SELECT * FROM MTN_CAT_PERIL_PKG.retrieve_mtn_cat_peril(#{lineCd, jdbcType=VARCHAR},
												  #{objectId, jdbcType=VARCHAR}, 
												  #{catPerilId, jdbcType=INTEGER},
												  #{position, jdbcType=VARCHAR}, 
												  #{count, jdbcType=VARCHAR}, 
												  #{sortKey, jdbcType=VARCHAR}, 
												  #{order, jdbcType=VARCHAR})
     </select>
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.MtnCharges" id="chargesMap">
		<result property="chargeCd"				column="CHARGE_CD"/>
		<result property="chargeDesc"			column="CHARGE_DESC"/>
		<result property="defaultAmt"			column="DEFAULT_AMT"/>
		<result property="activeTag"			column="ACTIVE_TAG"/> 
		<result property="remarks"				column="REMARKS"/>
		<result property="createUser"			column="CREATE_USER"/>
		<result property="createDate"        	column="CREATE_DATE"        	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"        	column="UPDATE_USER"/>
		<result property="updateDate"			column="UPDATE_DATE"			typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
     </resultMap>
     
     <select id="retrieveMtnCharges" resultMap="chargesMap" parameterType="java.util.Map">
    	SELECT * FROM MTN_CHARGES_PKG.retrieve_mtn_charges(#{chargeCd, jdbcType=INTEGER},
												  #{position, jdbcType=VARCHAR}, 
												  #{count, jdbcType=VARCHAR}, 
												  #{sortKey, jdbcType=VARCHAR}, 
												  #{order, jdbcType=VARCHAR})
     </select>
     
    <update id="saveMtnLine" parameterType="java.util.Map">
    	BEGIN
    		<foreach collection="saveLine" item="line">
	    		MTN_LINE_PKG.save_mtn_line(
	    			#{line.lineCd,jdbcType=VARCHAR},
			        #{line.description,jdbcType=VARCHAR},
			        CAST(to_timestamp(#{line.cutOffTime}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
			        #{line.activeTag,jdbcType=VARCHAR},
			        #{line.catTag,jdbcType=VARCHAR},
			        #{line.renewalTag,jdbcType=VARCHAR},
			        #{line.openCoverTag,jdbcType=VARCHAR},
			        #{line.alopTag,jdbcType=VARCHAR},
			        #{line.referenceNo,jdbcType=INTEGER},
			        #{line.sortSeq,jdbcType=INTEGER},
			        #{line.remarks,jdbcType=VARCHAR},
			        #{line.createUser,jdbcType=VARCHAR},
			        CAST(to_timestamp(#{line.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
			        #{line.updateUser,jdbcType=VARCHAR},
			        CAST(to_timestamp(#{line.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
	    		);
    		</foreach>
    		<foreach collection="deleteLine" item="lineDel">
    			MTN_LINE_PKG.del_mtn_line(#{lineDel.lineCd,jdbcType=VARCHAR});
    		</foreach>
    	END;
    </update>
    
    <update id="saveMtnLineClass" parameterType="java.util.Map">
    	BEGIN
    		<foreach collection="saveLineClass" item="lineClass">
    			MTN_LINE_CLASS_PKG.save_mtn_line_class(
    				#{lineClass.lineCd, jdbcType=VARCHAR},
    				#{lineClass.lineClassCd, jdbcType=VARCHAR},
    				#{lineClass.lineCdDesc, jdbcType=VARCHAR},
    				#{lineClass.activeTag, jdbcType=VARCHAR},
    				#{lineClass.remarks, jdbcType=VARCHAR},
    				#{lineClass.createUser, jdbcType=VARCHAR},
    				CAST(to_timestamp(#{lineClass.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
    				#{lineClass.updateUser, jdbcType=VARCHAR},
    				CAST(to_timestamp(#{lineClass.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
    			);
    		</foreach>
    		<foreach collection="deleteLineClass" item="lineClass">
    			MTN_LINE_CLASS_PKG.del_mtn_line_class(#{lineClass.lineClassCd});
    		</foreach>
    	END;
    </update>
    
    
     <update id="saveMtnDeductibles" parameterType="java.util.Map">
    	BEGIN
    		<foreach collection="saveDeductibles" item="saveD">
	    		MTN_DEDUCTIBLES_PKG.save_mtn_deductibles(
	    			#{saveD.lineCd,jdbcType=VARCHAR},
					#{saveD.coverCd,jdbcType=INTEGER},
					#{saveD.endtCd,jdbcType=VARCHAR},
					#{saveD.deductibleCd,jdbcType=VARCHAR},
					#{saveD.deductibleTitle,jdbcType=VARCHAR},
					#{saveD.deductibleText,jdbcType=VARCHAR},
					#{saveD.deductibleType,jdbcType=VARCHAR},
					#{saveD.deductibleRate,jdbcType=INTEGER},
					#{saveD.deductibleAmt,jdbcType=INTEGER},
					#{saveD.minAmt,jdbcType=INTEGER},
					#{saveD.maxAmt,jdbcType=INTEGER},
					#{saveD.activeTag,jdbcType=VARCHAR},
					#{saveD.defaultTag,jdbcType=VARCHAR},
					#{saveD.remarks,jdbcType=VARCHAR},
					#{saveD.createUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveD.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{saveD.updateUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveD.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
	    		);
    		</foreach>
    		<foreach collection="deleteDeductibles" item="deleteD">
    			MTN_DEDUCTIBLES_PKG.del_mtn_deductibles(
	    			#{deleteD.lineCd,jdbcType=VARCHAR},
					#{deleteD.deductibleCd,jdbcType=VARCHAR},
					#{deleteD.coverCd,jdbcType=INTEGER},
					#{deleteD.endtCd,jdbcType=VARCHAR}
	    		);
    		</foreach>
    	END;
    </update>
    
    <select id="retrieveMtnSpoilageReason" resultMap="spoilMap" parameterType="java.util.Map">
    	SELECT * FROM MTN_SPOIL_PKG.ret_mtn_spoil(#{spoilCd, jdbcType=VARCHAR},
    											  #{activeTag, jdbcType=VARCHAR},
												  #{position, jdbcType=VARCHAR}, 
												  #{count, jdbcType=VARCHAR}, 
												  #{sortKey, jdbcType=VARCHAR}, 
												  #{order, jdbcType=VARCHAR})
    </select>
    
    <resultMap type="ph.cpi.rest.api.model.maintenance.MtnPolWordings" id="MtnPolWordingsMap">
    	<result property="lineCd"	column="LINE_CD"/>
		<result property="wordingCd"	column="WORDING_CD"/>
		<result property="wordingTitle"	column="WORDING_TITLE"/>
		<result property="wordType"	column="WORD_TYPE"/>
		<result property="activeTag"	column="ACTIVE_TAG"/>
		<result property="defaultTag"	column="DEFAULT_TAG"/>
		<result property="ocTag"	column="OC_TAG"/>
		<result property="wordText01"	column="WORD_TEXT01"/>
		<result property="wordText02"	column="WORD_TEXT02"/>
		<result property="wordText03"	column="WORD_TEXT03"/>
		<result property="wordText04"	column="WORD_TEXT04"/>
		<result property="wordText05"	column="WORD_TEXT05"/>
		<result property="wordText06"	column="WORD_TEXT06"/>
		<result property="wordText07"	column="WORD_TEXT07"/>
		<result property="wordText08"	column="WORD_TEXT08"/>
		<result property="wordText09"	column="WORD_TEXT09"/>
		<result property="wordText10"	column="WORD_TEXT10"/>
		<result property="wordText11"	column="WORD_TEXT11"/>
		<result property="wordText12"	column="WORD_TEXT12"/>
		<result property="wordText13"	column="WORD_TEXT13"/>
		<result property="wordText14"	column="WORD_TEXT14"/>
		<result property="wordText15"	column="WORD_TEXT15"/>
		<result property="wordText16"	column="WORD_TEXT16"/>
		<result property="wordText17"	column="WORD_TEXT17"/>
		<result property="remarks"	column="REMARKS"/>
		<result property="createUser"	column="CREATE_USER"/>
		<result property="createDate"	column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"	column="UPDATE_USER"/>
		<result property="updateDate"	column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
    </resultMap>
    
    <select id="retMtnPolWordings" resultMap="MtnPolWordingsMap" parameterType="java.util.Map">
    	select * from MTN_POL_WORDINGS_PKG.ret_mtn_pol_wordings(#{lineCd, jdbcType=VARCHAR},#{wordingCd, jdbcType=VARCHAR},#{wordType, jdbcType=VARCHAR},#{activeTag, jdbcType=VARCHAR},#{defaultTag, jdbcType=VARCHAR},#{ocTag, jdbcType=VARCHAR},null,null,null,null)
     </select>
     
    <update id="saveMtnInsured" parameterType="java.util.Map" statementType="CALLABLE">
    	BEGIN
    			MTN_INSURED_PKG.save_mtn_insured(
    				#{insuredId,jdbcType=INTEGER},
    				#{insuredIdOut,mode=OUT,jdbcType=INTEGER},
					#{insuredName,jdbcType=VARCHAR},
					#{insuredAbbr,jdbcType=VARCHAR},
					#{insuredType,jdbcType=VARCHAR},
					#{firstName,jdbcType=VARCHAR},
					#{middleInitial,jdbcType=VARCHAR},
					#{lastName,jdbcType=VARCHAR},
					#{addrLine1,jdbcType=VARCHAR},
					#{addrLine2,jdbcType=VARCHAR},
					#{addrLine3,jdbcType=VARCHAR},
					#{zipCd,jdbcType=VARCHAR},
					#{contactNo,jdbcType=VARCHAR},
					#{emailAdd,jdbcType=VARCHAR},
					#{activeTag,jdbcType=VARCHAR},
					#{corpTag,jdbcType=VARCHAR},
					#{vatTag,jdbcType=VARCHAR},
					#{oldInsId,jdbcType=INTEGER},
					#{remarks,jdbcType=VARCHAR},
					#{createUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{createDate,jdbcType=DATE}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{updateUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{updateDate,jdbcType=DATE}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
    			);
    	END;
    </update>

	<update id="saveMtnTypeOfCession" parameterType="java.util.Map">
    	BEGIN
    		<foreach collection="saveTypeOfCession" item="saveToc">
	    		MTN_CESSION_PKG.save_mtn_cession(
	    			#{saveToc.cessionId, jdbcType=INTEGER},
					#{saveToc.cessionAbbr, jdbcType=VARCHAR},
					#{saveToc.description, jdbcType=VARCHAR},
					#{saveToc.activeTag, jdbcType=VARCHAR},
					#{saveToc.remarks, jdbcType=VARCHAR},
					#{saveToc.createUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveToc.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{saveToc.updateUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveToc.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
	    		);
    		</foreach>
    		<foreach collection="deleteTypeOfCession" item="deleteToc">
    			MTN_CESSION_PKG.del_mtn_cession(
	    			#{deleteToc.cessionId,jdbcType=INTEGER}
	    		);
    		</foreach>
    	END;
    </update>
    
    <select id="retMtnInsuredLovCount" resultType="java.lang.Integer" parameterType="java.util.Map">
    	SELECT mtn_insured_pkg.ret_mtn_insured_lov_count(#{lovParam, jdbcType=VARCHAR}, #{page.position, jdbcType=VARCHAR}, #{page.count, jdbcType=VARCHAR}, #{sort.sortKey, jdbcType=VARCHAR}, #{sort.order, jdbcType=VARCHAR}) total_count from dual
     </select>
     
     <select id="retMtnInsuredLov" resultMap="insuredMap" parameterType="java.util.Map">
     	SELECT * from table(mtn_insured_pkg.ret_mtn_insured_lov(#{lovParam, jdbcType=VARCHAR}, #{page.position, jdbcType=VARCHAR}, #{page.count, jdbcType=VARCHAR}, #{sort.sortKey, jdbcType=VARCHAR}, #{sort.order, jdbcType=VARCHAR}))
     </select>
     
     <update id="saveMtnIntermediary" parameterType="java.util.Map" statementType="CALLABLE">
    	BEGIN
    			MTN_INTM_PKG.save_mtn_intm(
    				#{intmId,jdbcType=INTEGER},
    				#{intmIdOut,mode=OUT,jdbcType=INTEGER},
					#{intmName,jdbcType=VARCHAR},
					#{firstName,jdbcType=VARCHAR},
					#{middleInitial,jdbcType=VARCHAR},
					#{lastName,jdbcType=VARCHAR},
					#{addrLine1,jdbcType=VARCHAR},
					#{addrLine2,jdbcType=VARCHAR},
					#{addrLine3,jdbcType=VARCHAR},
					#{zipCd,jdbcType=VARCHAR},
					#{contactNo,jdbcType=VARCHAR},
					#{emailAdd,jdbcType=VARCHAR},
					#{activeTag,jdbcType=VARCHAR},
					#{corpTag,jdbcType=VARCHAR},
					#{vatTag,jdbcType=VARCHAR},
					#{oldIntmId,jdbcType=INTEGER},
					#{remarks,jdbcType=VARCHAR},
					#{createUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{createDate,jdbcType=DATE}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{updateUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{updateDate,jdbcType=DATE}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
    			);
	</update>
	
    <update id="saveMtnAdvWord" parameterType="java.util.Map" statementType="CALLABLE">
    	BEGIN
    		<foreach collection="deleteAdvWordList" item="del">
	    			MTN_ADV_WORD_PKG.del_adv_word(
			    				#{del.adviceWordId}
			    		);
    		</foreach>
    		<foreach collection="saveAdvWordList" item="save">
		    		MTN_ADV_WORD_PKG.save_adv_word(
		    				#{save.adviceWordId},
		    				#{save.description, jdbcType=VARCHAR},
		    				#{save.activeTag, jdbcType=VARCHAR},
		    				#{save.wordings},
		    				#{save.remarks, jdbcType=VARCHAR},
							#{save.createUser,jdbcType=VARCHAR},
							CAST(to_timestamp(#{save.createDate,jdbcType=DATE}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
							#{save.updateUser,jdbcType=VARCHAR},
							CAST(to_timestamp(#{save.updateDate,jdbcType=DATE}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
		    			);
		   	</foreach>
    	END;
    </update>

     <resultMap type="ph.cpi.rest.api.model.maintenance.MtnCurrency" id="currencyList">
		<result property="currencyCd"			column="CURRENCY_CD"/>
		<result property="currencyWord"			column="CURRENCY_WORD"/>
		<result property="description"			column="CURRENCY_DESC"/>
		<result property="activeTag"			column="ACTIVE_TAG"/> 
		<result property="remarks"				column="REMARKS"/>
		<result property="createUser"			column="CREATE_USER"/>
		<result property="createDate"        	column="CREATE_DATE"        	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"        	column="UPDATE_USER"/>
		<result property="updateDate"			column="UPDATE_DATE"			typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
     	<result property="okDelete"  			column="OK_DELETE"/>
     </resultMap>
     
     <select id="retrieveMtnCurrencyList" resultMap="currencyList" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_CURR_SAMP_PKG.ret_mtn_currency(#{currencyCd, jdbcType=VARCHAR},
																			#{position, jdbcType=VARCHAR}, 
																			#{count, jdbcType=VARCHAR}, 
																			#{sortKey, jdbcType=VARCHAR}, 
																			#{order, jdbcType=VARCHAR}))
	</select>
	
	<update id="saveMtnCurrency" parameterType="java.util.Map">
    	BEGIN
    		<foreach collection="delCurrency" item="delCurr">
    			MTN_CURR_SAMP_PKG.del_mtn_curr(
    				#{delCurr.currencyCd}
    			);
    		</foreach>
    		<foreach collection="saveCurrency" item="saveCurr">
    			MTN_CURR_SAMP_PKG.save_mtn_curr(
    				#{saveCurr.currencyCd},
    				#{saveCurr.currencyWord},
    				#{saveCurr.description},
    				#{saveCurr.remarks,jdbcType=VARCHAR},
					#{saveCurr.activeTag},
					#{saveCurr.createUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveCurr.createDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{saveCurr.updateUser},
					CAST(to_timestamp(#{saveCurr.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
    			);
    		</foreach>
    	END;
    </update>
    
    <resultMap type="ph.cpi.rest.api.model.maintenance.CurrencyRt" id="currencyRt">
		<result property="currencyCd"			column="CURRENCY_CD"/>
		<result property="histNo"				column="HIST_NO"/>
		<result property="currencyRt"			column="CURRENCY_RT"/>
		<result property="effDateFrom"			column="EFF_DATE_FROM" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/> 
		<result property="effDateTo"			column="EFF_DATE_TO" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="activeTag"			column="ACTIVE_TAG"/>
		<result property="remarks"				column="REMARKS"/>
		<result property="createUser"			column="CREATE_USER"/>
		<result property="createDate"        	column="CREATE_DATE"        	typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser"        	column="UPDATE_USER"/>
		<result property="updateDate"			column="UPDATE_DATE"			typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
     </resultMap>
     
    <select id="retrieveMtnCurrencyRt" resultMap="currencyRt" parameterType="java.util.Map">
			SELECT * FROM TABLE(MTN_CURR_RT_PKG.ret_mtn_curr_rt(#{currencyCd, jdbcType=VARCHAR},
																			#{position, jdbcType=VARCHAR}, 
																			#{count, jdbcType=VARCHAR}, 
																			#{sortKey, jdbcType=VARCHAR}, 
																			#{order, jdbcType=VARCHAR}))
	</select>
	
	<update id="saveMtnCurrencyRt" parameterType="java.util.Map">
    	BEGIN
    		<foreach collection="delCurrencyRt" item="delCurrRt">
    			MTN_CURR_RT_PKG.del_mtn_curr_rt(
    				#{delCurrRt.currencyCd},
    				#{delCurrRt.histNo}
    			);
    		</foreach>
    		<foreach collection="saveCurrencyRt" item="saveCurrRt">
    			MTN_CURR_RT_PKG.save_mtn_curr_rt(
    				#{saveCurrRt.currencyCd},
    				#{saveCurrRt.histNo,jdbcType=VARCHAR},
    				#{saveCurrRt.currencyRt},
    				CAST(to_timestamp(#{saveCurrRt.effDateFrom}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
    				CAST(to_timestamp(#{saveCurrRt.effDateTo}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
    				#{saveCurrRt.activeTag},
    				#{saveCurrRt.remarks,jdbcType=VARCHAR},
					#{saveCurrRt.createUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveCurrRt.createDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{saveCurrRt.updateUser},
					CAST(to_timestamp(#{saveCurrRt.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
    			);
    		</foreach>
    	END;
    </update>

    <update id="saveMtnEndorsement" parameterType="java.util.Map">
     	BEGIN
     		<foreach collection="delEndt" item="endt">
     			MTN_ENDT_PKG.del_endt_code(#{endt.lineCd},	#{endt.endtCd});
     		</foreach>
     		<foreach collection="saveEndt" item="endt">
     			MTN_ENDT_PKG.save_endt_code(
     				#{endt.lineCd, jdbcType=VARCHAR},	#{endt.endtCd, jdbcType=VARCHAR},	#{endt.endtTitle, jdbcType=VARCHAR}, #{endt.description, jdbcType=VARCHAR},	
     				#{endt.defaultTag, jdbcType=VARCHAR},	#{endt.activeTag, jdbcType=VARCHAR},	#{endt.endtText01, jdbcType=VARCHAR},	#{endt.endtText02, jdbcType=VARCHAR},	
     				#{endt.endtText03, jdbcType=VARCHAR},	#{endt.endtText04, jdbcType=VARCHAR},	#{endt.endtText05, jdbcType=VARCHAR},	#{endt.endtText06, jdbcType=VARCHAR},	
     				#{endt.endtText07, jdbcType=VARCHAR},	#{endt.endtText08, jdbcType=VARCHAR},	#{endt.endtText09, jdbcType=VARCHAR},	#{endt.endtText10, jdbcType=VARCHAR},	
     				#{endt.endtText11, jdbcType=VARCHAR},	#{endt.endtText12, jdbcType=VARCHAR},	#{endt.endtText13, jdbcType=VARCHAR},	#{endt.endtText14, jdbcType=VARCHAR},	
     				#{endt.endtText15, jdbcType=VARCHAR},	#{endt.endtText16, jdbcType=VARCHAR},	#{endt.endtText17, jdbcType=VARCHAR},	#{endt.remarks, jdbcType=VARCHAR}, 
     				#{endt.createUser},	CAST(to_timestamp(#{endt.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),	#{endt.updateUser},	
     				CAST(to_timestamp(#{endt.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
     			);
     		</foreach>
     		
     		
    		<foreach collection="deleteDeductibles" item="deleteD">
    			MTN_DEDUCTIBLES_PKG.del_mtn_deductibles(
	    			#{deleteD.lineCd,jdbcType=VARCHAR},
					#{deleteD.deductibleCd,jdbcType=VARCHAR},
					#{deleteD.coverCd,jdbcType=INTEGER},
					#{deleteD.endtCd,jdbcType=VARCHAR}
	    		);
    		</foreach>
     		<foreach collection="saveDeductibles" item="saveD">
	    		MTN_DEDUCTIBLES_PKG.save_mtn_deductibles(
	    			#{saveD.lineCd,jdbcType=VARCHAR},
					#{saveD.coverCd,jdbcType=INTEGER},
					#{saveD.endtCd,jdbcType=VARCHAR},
					#{saveD.deductibleCd,jdbcType=VARCHAR},
					#{saveD.deductibleTitle,jdbcType=VARCHAR},
					#{saveD.deductibleText,jdbcType=VARCHAR},
					#{saveD.deductibleType,jdbcType=VARCHAR},
					#{saveD.deductibleRate,jdbcType=INTEGER},
					#{saveD.deductibleAmt,jdbcType=INTEGER},
					#{saveD.minAmt,jdbcType=INTEGER},
					#{saveD.maxAmt,jdbcType=INTEGER},
					#{saveD.activeTag,jdbcType=VARCHAR},
					#{saveD.defaultTag,jdbcType=VARCHAR},
					#{saveD.remarks,jdbcType=VARCHAR},
					#{saveD.createUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveD.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{saveD.updateUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveD.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
	    		);
    		</foreach>
     	END;
     </update>
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.Deductibles" id="endt_ded">
		<result property="lineCd" 				column="LINE_CD"/>
		<result property="coverCd"	 			column="COVER_CD"/>
		<result property="endtCd" 				column="ENDT_CD"/>
		<result property="deductibleCd" 		column="DEDUCTIBLE_CD"/>
		<result property="deductibleTitle" 		column="DEDUCTIBLE_TITLE"/>
		<result property="deductibleType" 		column="DEDUCTIBLE_TYPE"/>
		<result property="typeDesc" 			column="TYPE_DESC"/>
		<result property="deductibleRate" 		column="DEDUCTIBLE_RATE"/>
		<result property="deductibleAmt" 		column="DEDUCTIBLE_AMT"/>
		<result property="minAmt" 				column="MIN_AMT"/>
		<result property="maxAmt" 				column="MAX_AMT"/>
		<result property="deductibleText" 		column="DEDUCTIBLE_TEXT"/>
		<result property="activeTag" 			column="D_ACTIVE_TAG"/>
		<result property="defaultTag" 			column="D_DEFAULT_TAG"/>
		<result property="remarks" 				column="D_REMARKS"/>
		<result property="createUser" 			column="D_CREATE_USER"/>
		<result property="createDate" 			column="D_CREATE_DATE"  typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" 			column="D_UPDATE_USER"/>
		<result property="updateDate" 			column="D_UPDATE_DATE"  typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="okDelete" 		    column="D_OK_DELETE"/>
	</resultMap>

	<update id="saveMtnCatPeril" parameterType="java.util.Map">
    	BEGIN
    		<foreach collection="delCatPeril" item="delCat">
    			MTN_CAT_PERIL_PKG.del_mtn_cat(
    				#{delCat.lineCd},
    				#{delCat.objectId},
    				#{delCat.catPerilId}
    			);
    		</foreach>
    		<foreach collection="saveCatPeril" item="saveCat">
    			MTN_CAT_PERIL_PKG.save_mtn_cat(
    				#{saveCat.lineCd},
    				#{saveCat.objectId},
    				#{saveCat.catPerilId,jdbcType=VARCHAR},
    				#{saveCat.catPerilName},
    				#{saveCat.catPerilAbbr},
    				#{saveCat.pctSharePrem,jdbcType=VARCHAR},
    				#{saveCat.activeTag,jdbcType=VARCHAR},
    				#{saveCat.remarks,jdbcType=VARCHAR},
					#{saveCat.createUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveCat.createDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{saveCat.updateUser},
					CAST(to_timestamp(#{saveCat.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
    			);
    		</foreach>
    	END;
    </update>
    
    <update id="saveMtnCresta" parameterType="java.util.Map">
    	BEGIN
    		<foreach collection="delCrestaZone" item="delCresta">
    			MTN_CRESTA_PKG.del_mtn_cresta(
    				#{delCresta.zoneCd}
    			);
    		</foreach>
    		<foreach collection="saveCrestaZone" item="saveCresta">
    			MTN_CRESTA_PKG.save_mtn_cresta(
    				#{saveCresta.zoneCd},
    				#{saveCresta.zoneDesc},
    				#{saveCresta.activeTag,jdbcType=VARCHAR},
    				#{saveCresta.remarks,jdbcType=VARCHAR},
					#{saveCresta.createUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveCresta.createDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{saveCresta.updateUser},
					CAST(to_timestamp(#{saveCresta.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
    			);
    		</foreach>
    	END;
    </update>
    
    <update id="saveMtnCedingCompany" parameterType="java.util.Map" statementType="CALLABLE">
    	DECLARE
    	 v_ceding_id MTN_CEDING_REPRESENTATIVE.CEDING_ID%TYPE;
    	BEGIN
    		MTN_CED_COM_PKG.save_mtn_ced_co(
    						v_ceding_id,
    						#{cedingId, jdbcType=VARCHAR},
    						#{cedingName},
    						#{cedingAbbr},
    						#{addrLine1},
    						#{addrLine2, jdbcType=VARCHAR},
    						#{addrLine3, jdbcType=VARCHAR},
    						#{zipCd, jdbcType=VARCHAR},
    						#{contactNo, jdbcType=VARCHAR},
    						#{emailAdd, jdbcType=VARCHAR},
    						#{bussTypeId, jdbcType=VARCHAR},
    						#{tinNo, jdbcType=VARCHAR},
    						#{activeTag, jdbcType=VARCHAR},
    						#{govtTag, jdbcType=VARCHAR},
    						#{oldCedingId, jdbcType=VARCHAR},
    						#{membershipTag, jdbcType=VARCHAR},
    						CAST(to_timestamp(#{membershipDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
    						CAST(to_timestamp(#{terminationDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
    						CAST(to_timestamp(#{inactiveDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
    						#{remarks, jdbcType=VARCHAR},
    						#{createUser},
    						CAST(to_timestamp(#{createDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
    						#{updateUser},
    						CAST(to_timestamp(#{updateDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
    		);
    		
    		#{outCedingId, mode=OUT, jdbcType=VARCHAR} := v_ceding_id;
    		
   			<foreach collection="delCedingRepList" item="del">
    			MTN_CED_REP_PKG.del_mtn_ced_rep(
    								v_ceding_id,
    								#{del.cedingRepId}
    						);
    		</foreach>
    		<foreach collection="saveCedingRepList" item="save">
		    		MTN_CED_REP_PKG.save_mtn_ced_rep(
		    							v_ceding_id,
		    							#{save.cedingRepId, jdbcType=VARCHAR},
		    							#{save.designation, jdbcType=VARCHAR},
		    							#{save.firstName},
		    							#{save.middleInitial, jdbcType=VARCHAR},
		    							#{save.lastName},
		    							#{save.defaultTag, jdbcType=VARCHAR},
		    							#{save.position, jdbcType=VARCHAR},
		    							#{save.department, jdbcType=VARCHAR},
		    							#{save.contactNo, jdbcType=VARCHAR},
		    							#{save.emailAdd, jdbcType=VARCHAR},
		    							#{save.eSignature, jdbcType=VARCHAR},
		    							#{createUser},
			    						CAST(to_timestamp(#{createDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
			    						#{updateUser},
			    						CAST(to_timestamp(#{updateDate,jdbcType=VARCHAR}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
		    		            );
    		</foreach>
    	END;
    </update>

	<update id="saveMtnSectionCover" parameterType="java.util.Map" statementType="CALLABLE">
		DECLARE
			v_cover_cd	MTN_SECTION_COVERS.COVER_CD%TYPE;
		BEGIN
			<foreach collection="addSec" item="sec">
				MTN_SEC_COVER_PKG.save_mtn_sec_cov(
					#{sec.lineCd,jdbcType=VARCHAR},v_cover_cd,#{sec.coverCdAbbr,jdbcType=VARCHAR},
                                        #{sec.coverName,jdbcType=VARCHAR},#{sec.activeTag,jdbcType=VARCHAR},#{sec.section,jdbcType=VARCHAR},
                                        #{sec.sortSeq,jdbcType=VARCHAR},#{sec.defaultTag,jdbcType=VARCHAR},#{sec.bulletNo,jdbcType=VARCHAR},
                                        #{sec.addSi,jdbcType=VARCHAR},#{sec.remarks,jdbcType=VARCHAR},#{sec.createUser,jdbcType=VARCHAR},
                                        CAST(to_timestamp(#{sec.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
                                        #{sec.updateUser,jdbcType=VARCHAR},
                                        CAST(to_timestamp(#{sec.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
                                        
				);
				<foreach collection="sec.deductibles" item="saveD">
		    		MTN_DEDUCTIBLES_PKG.save_mtn_deductibles(
		    			#{saveD.lineCd,jdbcType=VARCHAR},
						v_cover_cd,
						#{saveD.endtCd,jdbcType=VARCHAR},
						#{saveD.deductibleCd,jdbcType=VARCHAR},
						#{saveD.deductibleTitle,jdbcType=VARCHAR},
						#{saveD.deductibleText,jdbcType=VARCHAR},
						#{saveD.deductibleType,jdbcType=VARCHAR},
						#{saveD.deductibleRate,jdbcType=INTEGER},
						#{saveD.deductibleAmt,jdbcType=INTEGER},
						#{saveD.minAmt,jdbcType=INTEGER},
						#{saveD.maxAmt,jdbcType=INTEGER},
						#{saveD.activeTag,jdbcType=VARCHAR},
						#{saveD.defaultTag,jdbcType=VARCHAR},
						#{saveD.remarks,jdbcType=VARCHAR},
						#{saveD.createUser,jdbcType=VARCHAR},
						CAST(to_timestamp(#{saveD.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
						#{saveD.updateUser,jdbcType=VARCHAR},
						CAST(to_timestamp(#{saveD.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
		    		);
	    		</foreach>
			</foreach>
			
			<foreach collection="saveSec" item="sec">
				MTN_SEC_COVER_PKG.save_mtn_sec_cov(
					#{sec.lineCd,jdbcType=VARCHAR},#{sec.coverCd,jdbcType=VARCHAR},#{sec.coverCdAbbr,jdbcType=VARCHAR},
                                        #{sec.coverName,jdbcType=VARCHAR},#{sec.activeTag,jdbcType=VARCHAR},#{sec.section,jdbcType=VARCHAR},
                                        #{sec.sortSeq,jdbcType=VARCHAR},#{sec.defaultTag,jdbcType=VARCHAR},#{sec.bulletNo,jdbcType=VARCHAR},
                                        #{sec.addSi,jdbcType=VARCHAR},#{sec.remarks,jdbcType=VARCHAR},#{sec.createUser,jdbcType=VARCHAR},
                                        CAST(to_timestamp(#{sec.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
                                        #{sec.updateUser,jdbcType=VARCHAR},
                                        CAST(to_timestamp(#{sec.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
                                        
				);
			</foreach>
			<foreach collection="delSec" item="sec">
				MTN_SEC_COVER_PKG.del_mtn_sec_cov(
					#{sec.lineCd,jdbcType=VARCHAR},
					#{sec.coverCd,jdbcType=VARCHAR}
				);
			</foreach>
			<foreach collection="deleteDeductibles" item="deleteD">
    			MTN_DEDUCTIBLES_PKG.del_mtn_deductibles(
	    			#{deleteD.lineCd,jdbcType=VARCHAR},
					#{deleteD.deductibleCd,jdbcType=VARCHAR},
					#{deleteD.coverCd,jdbcType=INTEGER},
					#{deleteD.endtCd,jdbcType=VARCHAR}
	    		);
    		</foreach>
     		<foreach collection="saveDeductibles" item="saveD">
	    		MTN_DEDUCTIBLES_PKG.save_mtn_deductibles(
	    			#{saveD.lineCd,jdbcType=VARCHAR},
					#{saveD.coverCd,jdbcType=INTEGER},
					#{saveD.endtCd,jdbcType=VARCHAR},
					#{saveD.deductibleCd,jdbcType=VARCHAR},
					#{saveD.deductibleTitle,jdbcType=VARCHAR},
					#{saveD.deductibleText,jdbcType=VARCHAR},
					#{saveD.deductibleType,jdbcType=VARCHAR},
					#{saveD.deductibleRate,jdbcType=INTEGER},
					#{saveD.deductibleAmt,jdbcType=INTEGER},
					#{saveD.minAmt,jdbcType=INTEGER},
					#{saveD.maxAmt,jdbcType=INTEGER},
					#{saveD.activeTag,jdbcType=VARCHAR},
					#{saveD.defaultTag,jdbcType=VARCHAR},
					#{saveD.remarks,jdbcType=VARCHAR},
					#{saveD.createUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveD.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{saveD.updateUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{saveD.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
	    		);
    		</foreach>
		END;
	</update>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.QuoteStatusReason" id="quoteStatusReasonMap">
		<result property="reasonCd" column="REASON_CD"/>
		<result property="description" column="DESCRIPTION"/>
		<result property="remarks" column="REMARKS"/>
		<result property="activeTag" column="ACTIVE_TAG"/>
		<result property="createUser" column="CREATE_USER"/>
		<result property="createDate" column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="updateUser" column="UPDATE_USER"/>
		<result property="updateDate" column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.DateTimeTypeHandler"/>
		<result property="okDelete" column="OK_DELETE"/>
	</resultMap>
	
	<select id="retMtnQuoteReason" resultMap="quoteStatusReasonMap" parameterType="java.util.Map">
		SELECT * FROM TABLE(MTN_QUOTE_REASON_PKG.ret_mtn_qu_reason(#{reasonCd, jdbcType=VARCHAR},#{activeTag, jdbcType=VARCHAR},null,null,null,null))
	</select>
	
	<update id="saveMtnQuoteReason" parameterType="java.util.Map">
		BEGIN
			<foreach collection="delQuReason" item="reason">
				MTN_QUOTE_REASON_PKG.del_mtn_qu_reason(#{reason.reasonCd});
			</foreach>
			<foreach collection="saveQuReason" item="reason">
				MTN_QUOTE_REASON_PKG.save_mtn_qu_reason(#{reason.reasonCd,jdbcType=VARCHAR},#{reason.description,jdbcType=VARCHAR},
														#{reason.remarks,jdbcType=VARCHAR},#{reason.activeTag,jdbcType=VARCHAR},
														#{reason.createUser,jdbcType=VARCHAR},
														CAST(to_timestamp(#{reason.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
														#{reason.updateUser,jdbcType=VARCHAR},
														CAST(to_timestamp(#{reason.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE));
			</foreach>
		END;
	</update>
	
	<update id="saveMtnSpoilageReason" parameterType="java.util.Map">
		BEGIN
			<foreach collection="delSpoilReason" item="reason">
				MTN_SPOIL_PKG.del_mtn_spoil(#{reason.spoilCd});
			</foreach>
			<foreach collection="saveSpoilReason" item="reason">
				MTN_SPOIL_PKG.save_mtn_spoil(#{reason.spoilCd,jdbcType=VARCHAR},#{reason.description,jdbcType=VARCHAR},
														#{reason.remarks,jdbcType=VARCHAR},#{reason.activeTag,jdbcType=VARCHAR},
														#{reason.createUser,jdbcType=VARCHAR},
														CAST(to_timestamp(#{reason.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
														#{reason.updateUser,jdbcType=VARCHAR},
														CAST(to_timestamp(#{reason.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE));
			</foreach>
		END;
	</update>
	
	<update id="saveMtnDistrict">
		BEGIN
			<foreach collection="saveDistrict" item="district">
				MTN_DISTRICT_PKG.save_mtn_district(
					#{district.districtCd},#{district.districtDesc,jdbcType=VARCHAR},#{regionCd},#{provinceCd},
					#{cityCd},#{district.activeTag},#{district.remarks,jdbcType=VARCHAR},#{district.createUser},
					CAST(to_timestamp(#{district.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{district.updateUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{district.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
				);
			</foreach>
			<foreach collection="delDistrict" item="district">
				MTN_DISTRICT_PKG.del_mtn_district(#{district.districtCd},#{regionCd},#{provinceCd},#{cityCd});
			</foreach>
		END;
	</update>
	
	<update id="saveMtnBlock">
		BEGIN
			<foreach collection="saveBlock" item="block">
				MTN_BLOCK_PKG.save_mtn_block(
					#{block.blockCd},#{block.blockDesc,jdbcType=VARCHAR},#{districtCd},#{regionCd},#{provinceCd},
					#{cityCd},#{block.activeTag},#{block.remarks,jdbcType=VARCHAR},#{block.createUser},
					CAST(to_timestamp(#{block.createDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE),
					#{block.updateUser,jdbcType=VARCHAR},
					CAST(to_timestamp(#{block.updateDate}, 'YYYY-MM-DD"T"HH24:MI:SS') AS DATE)
				);
			</foreach>
			<foreach collection="delBlock" item="block">
				MTN_BLOCK_PKG.del_mtn_block(#{block.blockCd},#{districtCd},#{regionCd},#{provinceCd},#{cityCd});
			</foreach>
		END;
	</update>
	
	
</mapper>