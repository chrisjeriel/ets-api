<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ph.cpi.mybatis.mapper.MaintenanceMapper">
	
	<!-- <resultMap type="java.util.Map" id="sampleMap">
		<result property="insuredName" column="insured_name"/>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.AlopSample" id="alopMap">
	    <result property="alopId" 			column="ALOP_ID"/> 
		<result property="insuredId" 		column="INS_ID"/> 
		<result property="insuredName" 		column="INSURED_NAME"/> 
		<result property="insuredDesc" 		column="INSURED_DESC"/> 
		<result property="address" 			column="ADDRESS"/> 
		<result property="insuredBusiness" 	column="INS_BUSINESS"/> 
		<result property="annSi" 			column="ANN_SI"/> 
		<result property="maxIndemPdSi" 	column="MAX_INDEM_PD_SI"/> 
		<result property="issueDate" 		column="ISSUE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/> 
		<result property="expiryDate" 		column="EXPIRY_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/> 
		<result property="maxIndemPd" 		column="MAX_INDEM_PD"/> 
		<result property="indemFromDate" 	column="INDEM_FROM_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/> 
		<result property="timeExc" 			column="TIME_EXC"/> 
		<result property="repInterval" 		column="REP_INTERVAL"/> 
		<result property="createUser" 		column="CREATE_USER"/> 
		<result property="createDate" 		column="CREATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/> 
		<result property="updateUser" 		column="UPDATE_USER"/> 
		<result property="updateDate" 		column="UPDATE_DATE" typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
	</resultMap>
	
	
	<select id="retrieveMaintenanceSample" resultMap="alopMap" parameterType="java.util.Map">
			SELECT * FROM CPI.ETS_QUOTE_PKG.retrieve_quote_alop(#{quoteId},#{quotationNo})
	</select> -->
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.AdviceWordings" id="adviceWordingsMap">
		<result property="adviceWordId" 	column="ADVICE_WORD_ID"/> 
		<result property="description" 		column="DESCRIPTION"/> 
		<result property="activeTag" 		column="ACTIVE_TAG"/> 
		<result property="adviceText01" 	column="ADVICE_TEXT01"/> 
		<result property="adviceText02" 	column="ADVICE_TEXT02"/> 
		<result property="adviceText03" 	column="ADVICE_TEXT03"/> 
		<result property="adviceText04" 	column="ADVICE_TEXT04"/> 
		<result property="adviceText05" 	column="ADVICE_TEXT05"/> 
		<result property="adviceText06" 	column="ADVICE_TEXT06"/> 
		<result property="adviceText07" 	column="ADVICE_TEXT07"/> 
		<result property="adviceText08" 	column="ADVICE_TEXT08"/> 
		<result property="adviceText09" 	column="ADVICE_TEXT09"/> 
		<result property="adviceText10" 	column="ADVICE_TEXT10"/> 
		<result property="remarks" 			column="REMARKS"/> 
		<result property="createUser" 		column="CREATE_USER"/> 
		<result property="createDate" 		column="CREATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/> 
		<result property="updateUser" 		column="UPDATE_USER"/> 
		<result property="updateDate" 		column="UPDATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/> 
	</resultMap>
	
	<select id="retMtnAdviceWordings" resultMap="adviceWordingsMap" parameterType="java.util.Map">
            SELECT* FROM ETS_MAINTENANCE_PKG_EJVA.retrieve_advice_wordings(#{adviceWordId, jdbcType=VARCHAR},NULL,NULL,NULL,NULL)
     </select>
     
     
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.Region" id="maintenanceRegionMap">
        <result property="regionCd" 		column="REGION_CD"/>
        <result property="regionDesc" 		column="REGION_DESC"/>
        <association property="province" resultMap="maintenanceProvinceMap"></association>
	</resultMap>

     
     <resultMap type="ph.cpi.rest.api.model.maintenance.Province" id="maintenanceProvinceMap">
        <result property="provinceCd" 	column="PROVINCE_CD"/>
        <result property="provinceDesc" column="PROVINCE_DESC"/>
        <association property="city" resultMap="maintenanceCityMap"></association>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.City" id="maintenanceCityMap">
        <result property="cityCd" 	column="CITY_CD"/>
        <result property="cityDesc" column="CITY_DESC"/>
        <association property="district" resultMap="maintenanceDistrictMap"></association>
	</resultMap>
	
	<resultMap type="ph.cpi.rest.api.model.maintenance.District" id="maintenanceDistrictMap">
        <result property="districtCd" 	column="DISTRICT_CD"/>
        <result property="districtDesc" column="DISTRICT_DESC"/>
        <association property="block" resultMap="maintenanceBlockMap"></association>
	</resultMap>
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.Block" id="maintenanceBlockMap">
     	<result property="blockCd" 		column="BLOCK_CD"/> 
		<result property="blockDesc" 	column="BLOCK_DESC"/>
		<result property="activeTag" 	column="ACTIVE_TAG"/>   
		<result property="remarks" 		column="REMARKS"/>
		<result property="createUser" 	column="CREATE_USER"/>
		<result property="createDate" 	column="CREATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="updateUser" 	column="UPDATE_USER"/>
		<result property="updateDate" 	column="UPDATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
     </resultMap>
     
     <select id="retrieveMtnBlock" resultMap="maintenanceRegionMap" parameterType="java.util.Map">
            SELECT * FROM ETS_MAINTENANCE_PKG_EJVA.retrieve_block(#{regionCd, jdbcType=VARCHAR},#{provinceCd, jdbcType=VARCHAR},#{cityCd, jdbcType=VARCHAR},#{districtCd, jdbcType=VARCHAR},#{blockCd, jdbcType=VARCHAR}, null, null ,null, null)
     </select>
     
     
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.CedingCompany" id="maintenanceCedingCompanyListMap">
     	<result property="cedingId" 		column="CEDING_ID"/> 
		<result property="cedingName" 		column="CEDING_NAME"/>
		<result property="cedingAbbr" 		column="CEDING_ABBR"/>
		<result property="addrLine1" 		column="ADDR_LINE1"/>
		<result property="addrLine2" 		column="ADDR_LINE2"/>
		<result property="addrLine3" 		column="ADDR_LINE3"/>
		<result property="zipCd" 			column="ZIP_CD"/>
		<result property="address" 			column="ADDRESS"/>
		<result property="contactNo" 		column="CONTACT_NO"/>
		<result property="emailAdd" 		column="EMAIL_ADD"/>
		<result property="activeTag" 		column="ACTIVE_TAG"/>
		<result property="govtTag" 			column="GOVT_TAG"/>
		<result property="oldCedingId" 		column="OLD_CEDING_ID"/>
		<result property="membershipTag" 	column="MEMBERSHIP_TAG"/>
		<result property="membershipDate" 	column="MEMBERSHIP_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="terminationDate" 	column="TERMINATION_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="inactiveDate" 	column="INACTIVE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="remarks" 			column="REMARKS"/>
		<result property="createUser" 		column="CREATE_USER"/>
		<result property="createDate" 		column="CREATE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="updateUser" 		column="UPDATE_USER"/>
		<result property="updateDate" 		column="UPDATE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
     </resultMap>
     
     <select id="retMtnCedingCompanyListing" resultMap="maintenanceCedingCompanyListMap" parameterType="java.util.Map">
            SELECT* FROM ETS_MAINTENANCE_PKG_EJVA.retrieve_mtn_ceding_company_listing(#{cedingId, jdbcType=VARCHAR},#{cedingName, jdbcType=VARCHAR},#{cedingAbbr, jdbcType=VARCHAR},#{address, jdbcType=VARCHAR},#{membershipDate, jdbcType=VARCHAR},#{terminationDate, jdbcType=VARCHAR},#{inactiveDate, jdbcType=VARCHAR},#{activeTag, jdbcType=VARCHAR},#{govtTag, jdbcType=VARCHAR},#{membershipTag, jdbcType=VARCHAR}, null, null ,null, null)
     </select>
     
     
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.CedingCompany" id="maintenanceCedingCompanyMap">
     	<result property="cedingId" 		column="CEDING_ID"/> 
		<result property="cedingName" 		column="CEDING_NAME"/>
		<result property="cedingAbbr" 		column="CEDING_ABBR"/>
		<result property="addrLine1" 		column="ADDR_LINE1"/>
		<result property="addrLine2" 		column="ADDR_LINE2"/>
		<result property="addrLine3" 		column="ADDR_LINE3"/>
		<result property="zipCd" 			column="ZIP_CD"/>
		<result property="address" 			column="ADDRESS"/>
		<result property="contactNo" 		column="CONTACT_NO"/>
		<result property="emailAdd" 		column="EMAIL_ADD"/>
		<result property="activeTag" 		column="ACTIVE_TAG"/>
		<result property="govtTag"			column="GOVT_TAG"/>
		<result property="oldCedingId" 		column="OLD_CEDING_ID"/>
		<result property="membershipTag" 	column="MEMBERSHIP_TAG"/>
		<result property="membershipDate" 	column="MEMBERSHIP_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="terminationDate" 	column="TERMINATION_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="inactiveDate" 	column="INACTIVE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="remarks" 			column="REMARKS"/>
		<result property="createUser" 		column="CREATE_USER"/>
		<result property="createDate" 		column="CREATE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="updateUser" 		column="UPDATE_USER"/>
		<result property="updateDate" 		column="UPDATE_DATE" 		typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
     	<association property="cedingRepresentative" resultMap="cedingRepresentativeMap"></association>
     </resultMap>
     
     <resultMap type="ph.cpi.rest.api.model.maintenance.CedingRepresentative" id="cedingRepresentativeMap">
     	<result property="cedingId" 		column="CEDING_REP_CEDING_ID"/>
		<result property="cedingRepId" 		column="CEDING_REP_ID"/>
		<result property="designation" 		column="DESIGNATION"/>
		<result property="firstName" 		column="FIRST_NAME"/>
		<result property="middleInitial" 	column="MIDDLE_INITIAL"/>
		<result property="lastName" 		column="LAST_NAME"/>
		<result property="fullName" 		column="FULLNAME"/>
		<result property="defaultTag" 		column="DEFAULT_TAG"/>
		<result property="position" 		column="POSITION"/>
		<result property="department" 		column="DEPARTMENT"/>
		<result property="contactNo" 		column="CEDING_REP_CONTACT_NO"/>
		<result property="emailAdd" 		column="CEDING_REP_EMAIL_ADD"/>
		<result property="eSignature" 		column="E_SIGNATURE"/>
		<result property="createUser" 		column="CEDING_REP_CREATE_USER"/>
		<result property="createDate" 		column="CEDING_REP_CREATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
		<result property="updateUser" 		column="CEDING_REP_UPDATE_USER"/>
		<result property="updateDate" 		column="CEDING_REP_UPDATE_DATE" 	typeHandler="ph.cpi.rest.api.typehandler.LocalDateTypeHandler"/>
     </resultMap>
   
     
     <select id="retMtnCedingCompany" resultMap="maintenanceCedingCompanyMap" parameterType="java.util.Map">
            SELECT* FROM ETS_MAINTENANCE_PKG_EJVA.retrieve_ceding_company(#{cedingId, jdbcType=VARCHAR},null,null,null,null)
     </select>
  
</mapper>